<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="header.css">
    <title>Word Quiz</title>
    <style>
        
    </style>
</head>
<body>
    <nav>
        <div class="container">
            <header class="header">
                <ul class="nav-pills">
                    <li class="nav-item"><a href="mainPage.html" class="nav-link" aria-current="page">Home</a></li>
                    <li class="nav-item"><a href="addWords.html" class="nav-link ">Add words</a></li>
                    <li class="nav-item"><a href="displayWords.html" class="nav-link">Learn words</a></li>
                    <li class="nav-item"><a href="quizWords.html" class="nav-link active">Quiz</a></li>
                </ul>
            </header>
        </div>
    </nav>

    <h1>Word Quiz</h1>
    <div id="quizContainer"></div>

    <script>
        let quizWords = []
        let currentIndex = 0


        async function fetchQuizWords() {
            try {
                const response = await fetch('http://localhost:8000/quiz_words');
                quizWords = await response.json();
                if (quizWords.length > 0) {
                    displayWord();
                } else {
                    document.getElementById("quizContainer").innerHTML = "No words available";
                }
            } catch (error) {
                console.error('Error fetching words:', error);
                document.getElementById("quizContainer").innerHTML = "Failed to load Quiz ðŸ˜¥";
            }
        }

        function displayWord(){
            if (currentIndex < quizWords.length){
                const wordItem = quizWords[currentIndex]
                document.getElementById("quizContainer").innerHTML = 
                `
                <div class="quiz-item">
                        <p>What's that word?</p>
                        <p>${wordItem.definition}</p>
                        <input type="text" id="answerInput">
                        <button onclick="checkWord()">Submit Answer</button>
                        <p id="feedback"></p>
                    </div>
                `;
            }else{
                document.getElementById("quizContainer").innerHTML = "Quiz Completed!!!"
            }
                
        }


        function checkWord(){
            const Answer = document.getElementById("answerInput").value
            const wordItem = quizWords[currentIndex]
            if (Answer == wordItem.word){
                document.getElementById("feedback").innerHTML = "Word correct!!"
                currentIndex++
                setTimeout(displayWord, 1000)
            }else{
                document.getElementById("feedback").innerHTML = "Wrong answer"
            }
        }

        fetchQuizWords()

    </script>
</body>
</html>
